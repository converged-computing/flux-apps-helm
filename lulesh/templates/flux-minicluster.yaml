{{ include "base-template.flux-minicluster" . }}
    environment:
      apprun: '{{ .Values.lulesh.binary }} -i {{ .Values.lulesh.iterations }} -s {{ .Values.lulesh.size }} -r {{ .Values.lulesh.regions }} -b {{ .Values.lulesh.balance }} -c {{ .Values.lulesh.cost }} {{ if .Values.lulesh.numfiles }}-f {{ .Values.lulesh.numfiles }}{{ end }} -p'
      {{- include "base-template.environment" . }}      

# -i <iterations> : number of cycles to run
# -s <size>       : length of cube mesh along side
# -r <numregions> : Number of distinct regions (def: 11)
# -b <balance>    : Load balance between regions of a domain (def: 1)
# -c <cost>       : Extra cost of more expensive regions (def: 1)
# -f <numfiles>   : Number of files to split viz dump into (def: (np+10)/9)
# -p              : Print out progress
# -v              : Output viz file (requires compiling with -DVIZ_MESH
# -h              : This message
