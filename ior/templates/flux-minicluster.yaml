{{ include "base-template.flux-minicluster" . }}
    environment:
      apprun: '{{ default "ior" .Values.ior.binary }} {{ if .Values.ior.collective }}-c{{ end }} {{ if .Values.ior.reoderTasks }}-C{{ end }} {{ if .Values.ior.fsync }}-e{{ end }} {{ if .Values.ior.useExistingTestFile }}-E{{ end }} {{ if .Values.ior.intraTestBarriers }}-g{{ end }} {{ if .Values.ior.filePerProc }}{{ .Values.ior.filePerProc }}{{ end }} {{ if .Values.ior.keepFile }}-k{{ end }} {{ if .Values.ior.keepFileWithError }}-K{{ end }} {{ if .Values.ior.multiFile }}-m{{ end }} {{ if .Values.ior.readFile }}-r{{ end }} {{ if .Values.ior.checkRead }}-R{{ end }} {{ if .Values.ior.uniqueDir }}-u{{ end }} {{ if .Values.ior.verbose }}-v{{ end }} {{ if .Values.ior.writeFile }}-w{{ end }} {{ if .Values.ior.checkWrite }}-W{{ end }} {{ if .Values.ior.singleXferAttempt }}-x{{ end }} {{ if .Values.ior.dualMount }}-y{{ end }} {{ if .Values.ior.fsyncPerWrite }}-Y{{ end }} {{ if .Values.ior.randomOffset }}-z{{ end }} {{ if .Values.ior.warningsAsErrors }}--warningsAsErrors{{ end }} {{ if .Values.ior.reorderTasksRandom }}-Z{{ end }} {{ if .Values.ior.dryRun }}--dryRun{{ end }} {{ if .Values.ior.io_api }}-a={{ .Values.ior.io_api }}{{ end }} {{ if .Values.ior.blocksize }}-b={{ .Values.ior.blocksize }}{{ end }} {{ if .Values.ior.interTestDelay }}-d={{ .Values.ior.interTestDelay }}{{ end }} {{ if .Values.ior.deadlineForStonewalling }}-D={{ .Values.ior.deadlineForStonewalling }}{{ end }} {{ if .Values.ior.stoneWallingWearOut }}-O stoneWallinWearOut={{ .Values.ior.stoneWallingWearOut }}{{ end }} {{ if .Values.ior.stoneWallingWearOutIterations }}-O stoneWallinWearOutIterations={{ .Values.ior.stoneWallingWearOutIterations }}{{ end }} {{ if .Values.ior.stoneWallingStatusFile }}-O stoneWallinStatusFile={{ .Values.ior.stoneWallingStatusFile }}{{ end }} {{ if .Values.ior.minTimeDuration }}-O minTimeDuration={{ .Values.ior.minTimeDuration }}{{ end }} {{ if .Values.ior.scriptFile }}-f={{ .Values.ior.scriptFile }}{{ end }} {{ if .Values.ior.setTimeStampSignature }}-G={{ .Values.ior.setTimeStampSignature }}{{ end }} {{ if .Values.ior.repetitions }}-i={{ .Values.ior.repetitions }}{{ end }} {{ if .Values.ior.outlierThreshold }}-j={{ .Values.ior.outlierThreshold }}{{ end }} {{ if .Values.ior.dataPacketType }}--dataPacketType={{ .Values.ior.dataPacketType }}{{ end }} {{ if .Values.ior.memoryPerNode }}-M={{ .Values.ior.memoryPerNode }}{{ end }} {{ if .Values.ior.numTasks }}-N={{ .Values.ior.numTasks }}{{ end }} {{ if .Values.ior.directive }}-O="{{ .Values.ior.directive }}"{{ end }} {{ if .Values.ior.taskPerNodeOffset }}-Q={{ .Values.ior.taskPerNodeOffset }}{{ end }} {{ if .Values.ior.segmentCount }}-f={{ .Values.ior.segmentCount }}{{ end }} {{ if .Values.ior.transferSize }}-t={{ .Values.ior.transferSize }}{{ end }} {{ if .Values.ior.maximumTimeDuration }}-T={{ .Values.ior.maximumTimeDuration }}{{ end }} {{ if .Values.ior.reorderTasksRandomSeed }}-X={{ .Values.ior.reorderTasksRandomSeed }}{{ end }} {{ if .Values.ior.randomPrefill }}--randomPrefill={{ .Values.ior.randomPrefill }}{{ end }} {{ if .Values.ior.randomOffsetSeed }}--random-offset-seed={{ .Values.ior.randomOffsetSeed }}{{ end }} {{ if .Values.ior.summaryFile }}-O summaryFile={{ .Values.ior.summaryFile }}{{ end }} {{ if .Values.ior.summaryFormat }}-O ={{ .Values.ior.summaryFormat }}{{ end }} {{ if .Values.ior.saveRankPerformanceDetailsCSV }}-O saveRankPerformanceDetailsCSV={{ .Values.ior.saveRankPerformanceDetailsCSV }}{{ end }} -o {{ default testfile .Values.ior.filename }}'
      {{- include "base-template.environment" . }}
